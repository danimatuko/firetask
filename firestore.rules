rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match projects/{document=**} {
      allow read: if isSignedIn();
      allow write: if isSignedIn() && hasValidSchema();
    }
  }
}


function isSignedIn(){
  return request.auth!=null;
}

function incomingData() {
   return request.resource.data;
}

function hasValidSchema(){
  if incomingData().name is string && incomingData().name!=null &&
  if incomingData().details is string && incomingData().details!=null &&
  if incomingData().dueDate is timestamp && incomingData().dueDate!=null &&
  if incomingData().category is string && incomingData().category!=null &&
  if incomingData().createdBy is string && incomingData().createdBy!=null &&
  // if incomingData().assignedUsersList is string && incomingData().createdBy!=null &&
  // if incomingData().commentes is string && incomingData().commentes!=null &&
}

